<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>

<!--Создать объект студент "студент" и проанализировать его табель. Задача должна быть реализована
на языке javascript, без использования фреймворков и сторонник библиотек (типа Jquery).-->

<!--#### Технические требования:-->
<!-- - Создать пустой объект `student`, с полями `name` и `lastName`.-->
<!-- - Спросить у пользователя имя и фамилию студента, полученные значения записать в соответствующие поля объекта.-->
<!-- - В цикле спрашивать у пользователя название предмета и оценку по нему. Если пользователь нажмет Cancel
при n-вопросе о названии предмета, закончить цикл. Записать оценки по всем предметам в свойство студента `tabel`.-->
<!-- - Посчитать количество плохих (меньше 4) оценок по предметам. Если таких нет, вывести сообщение `Студент
переведен на следующий курс`.-->
<!-- - Посчитать средний балл по предметам. Если он больше 7 - вывести сообщение `Студенту назначена стипендия`.-->

<script>
    // const student = {
    //     name: '',
    //     lastName: '',
    //     table: {}
    // }
    // let nameStudent = prompt('What is your name?');
    // let lastNameStudent = prompt('What is your name?');
    // let subjects = [];
    // let marks = [];
    // let subject;
    // let mark;
    //
    // do {
    //     subject = (prompt('enter subject name'));
    //     subjects.push(subject)
    //     mark = (prompt('enter mark of subject'));
    //     marks.push(mark)
    // } while (subject !== null)
    //
    // for (let key in student) {
    //     student.name = nameStudent;
    //     student.lastName = lastNameStudent;
    //     let tableList = student[key];
    //     let count = 0;
    //
    //     for (let i = 0; i < subjects.length; i++) {
    //         if (subjects[i] !== null) {
    //             student.table[subjects[i]] = marks[i];
    //         }
    //     }
    //     for (let mark in tableList) {
    //         if (tableList[mark] <= 4) {
    //             count++
    //         } else {
    //             alert(`Студент ${student.name} ${student.lastName} переведен на следующий курс`)
    //         }
    //         let countRange = 0;
    //         let sumMark = 0;
    //         sumMark += tableList[mark];
    //         countRange++;
    //         let resultRange = Math.round(sumMark/countRange);
    //         if(resultRange >= 7){
    //             alert(`Студенту ${student.name} ${student.lastName} назначена стипендия`)
    //         }
    //     }
    //     console.log(count)
    // }
    // console.log(student)

    const student = {
        name: '',
        lastName: '',
        table: {}
    }
    let subjects;
    let marks;
    student.name = prompt('What is your name?');
    student.lastName = prompt('What is your name?');

    do {
        subjects = (prompt('enter subject name'));
        marks = (prompt('enter mark of subject'));
        if (subjects !== null) {
            student.table[subjects] = marks
        }
    } while (subjects !== null)

    for (let key in student) {
        let tableList = student[key];
        let count = 0;
        for (let mark in tableList) {
            if (tableList[mark] <= 4) {
                count++
            } else {
                alert(`Студент ${student.name} ${student.lastName} переведен на следующий курс`)
            }
            let countRange = 0;
            let sumMark = 0;
            sumMark += tableList[mark];
            countRange++;
            let resultRange = Math.round(sumMark/countRange);
            if(resultRange >= 7){
                alert(`Студенту ${student.name} ${student.lastName} назначена стипендия`)
            }
        }
        console.log(count)
    }
    console.log(student)

</script>
</body>
</html>